# #require a certain version
CMAKE_MINIMUM_REQUIRED( VERSION 3.1 )

# declare the project name
PROJECT(GBL VERSION "2.4.0")

# project version
# SET( ${PROJECT_NAME}_VERSION_MAJOR 2 )
# SET( ${PROJECT_NAME}_VERSION_MINOR 2 )
# SET( ${PROJECT_NAME}_VERSION_PATCH 0 )

# Enable ROOT support
FIND_PACKAGE(ROOT REQUIRED)
ADD_DEFINITIONS(-DGBL_EIGEN_SUPPORT_ROOT)
FIND_PACKAGE(Eigen3 REQUIRED)

# include directories
INCLUDE_DIRECTORIES(SYSTEM BEFORE ./include ${ROOT_INCLUDE_DIRS} ${EIGEN3_INCLUDE_DIR} )
GET_FILENAME_COMPONENT(GBL_INCLUDES ./include ABSOLUTE)
SET(GBL_INCLUDE_DIRS ${GBL_INCLUDES} PARENT_SCOPE)

# add library
AUX_SOURCE_DIRECTORY( ./src library_sources )
ADD_LIBRARY(${PROJECT_NAME} SHARED ${library_sources})
TARGET_LINK_LIBRARIES(${PROJECT_NAME} ${ROOT_LIBRARIES} ${ROOT_COMPONENT_LIBRARIES})

INSTALL( TARGETS ${PROJECT_NAME} DESTINATION lib )
